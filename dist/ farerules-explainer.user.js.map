{"version":3,"sources":["src/ farerules-explainer.user.js"],"names":["window","addEventListener","setTimeout","explaine_farerules","location","hash","includes","console","log","content","document","querySelector","explainer","Explainer","innerText","head","div","createElement","id","innerHTML","listForm","explain","parentNode","insertBefore","nextSibling"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEAA,MAAM,CAACC,gBAAP,CAAwB,YAAxB,EAAsC,MACpCC,UAAU,CAAC,MAAMC,kBAAkB,EAAzB,EAA6B,IAA7B,CADZ;;AAIA,SAASA,kBAAT,GAA8B;AAC5B,MAAI,CAACC,QAAQ,CAACC,IAAT,CAAcC,QAAd,CAAuB,YAAvB,CAAL,EAA2C;AACzC;AACD;;AAEDC,EAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ;AAEA,MAAIC,OAAO,GAAGC,QAAQ,CAACC,aAAT,CAAuB,iBAAvB,CAAd;AAEA,MAAIC,SAAS,GAAG,IAAIC,SAAJ,CAAcJ,OAAO,CAACK,SAAtB,CAAhB;AAEA,MAAIC,IAAI,GAAGL,QAAQ,CAACC,aAAT,CAAuB,OAAvB,CAAX;AAEA,MAAIK,GAAG,GACLN,QAAQ,CAACC,aAAT,CAAuB,qBAAvB,KACAD,QAAQ,CAACO,aAAT,CAAuB,KAAvB,CAFF;AAGAD,EAAAA,GAAG,CAACE,EAAJ,GAAS,oBAAT;AACAF,EAAAA,GAAG,CAACG,SAAJ,IAAiBP,SAAS,CAACQ,QAAV,EAAjB;AACAJ,EAAAA,GAAG,CAACG,SAAJ,IAAiBP,SAAS,CAACS,OAAV,CAAkB,IAAlB,CAAjB;AAEAN,EAAAA,IAAI,CAACO,UAAL,CAAgBC,YAAhB,CAA6BP,GAA7B,EAAkCD,IAAI,CAACS,WAAvC;AACD;;AAEDtB,UAAU,CAAC,MAAMC,kBAAkB,EAAzB,EAA6B,IAA7B,CAAV;AAEAI,OAAO,CAACC,GAAR,CAAY,6BAAZ","sourceRoot":"/source_map/","sourcesContent":["// ==UserScript==\n// @name     Fare Rules Explainer\n// @namespace fare-rules-explainer\n// @version  0.0.5\n// @include https://matrix.itasoftware.com/*\n// @grant    none\n// @require https://raw.githubusercontent.com/traveldealz/farerules-explainer/gh-pages/dist/explainer.js\n// @run-at \t\t\t\tdocument-idle\n// ==/UserScript==\n\nwindow.addEventListener('hashchange', () =>\n  setTimeout(() => explaine_farerules(), 1000)\n);\n\nfunction explaine_farerules() {\n  if (!location.hash.includes('view-rules')) {\n    return;\n  }\n\n  console.log('Fare Rules found');\n\n  let content = document.querySelector('#contentwrapper');\n\n  let explainer = new Explainer(content.innerText);\n\n  let head = document.querySelector('.head');\n\n  let div =\n    document.querySelector('#farerule-explainer') ??\n    document.createElement('div');\n  div.id = 'farerule-explainer';\n  div.innerHTML += explainer.listForm();\n  div.innerHTML += explainer.explain('de');\n\n  head.parentNode.insertBefore(div, head.nextSibling);\n}\n\nsetTimeout(() => explaine_farerules(), 1000);\n\nconsole.log('Fare Rules Explainer loaded');\n"]}